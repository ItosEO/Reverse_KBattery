# KBattery 应用优化（开启）完整脚本

## Vivo设备 - 应用优化开启命令

```bash
# 定义要优化的应用包名
GAME_PACKAGES=(com.example.app)

# 对每个应用执行优化
for game_package in ${GAME_PACKAGES[@]}; do
    # ========== Monster+ 性能模式 ==========
    settings put system powermonitor 7
    settings put system pempsmstate 7
    settings put system pemMonsterState 1
    settings put secure system_property_power_mode_type 7
    settings put secure power_save_type 7
    settings put system power_save_type 7
    
    # ========== 车载模式开关 ==========
    settings put system vivo_carlife_switch_setting 1
    
    # ========== PEM优化模式 ==========
    settings put secure pem_in_ccc_mode 1
    
    # ========== 超级音质 ==========
    settings put secure super_audio_current_state_settings 1
    
    # ========== MEMC开关 ==========
    settings put system memc_main_switch_setting 0
    
    # ========== 游戏加模式 ==========
    settings put system game_plus_mode_key 1
    settings put secure game_plus_mode_key 1
    
    # ========== 职业模式（电竞模式）==========
    settings put secure vivo_career_mode_toggle_state 1
    settings put secure vivo_career_mode_auto_enhance_brightness_toggle_state 1
    settings put secure viv_career_mode_extend_auto_lock_screen_time_toggle_state 1
    settings put secure vivo_career_mode_healthy_prolonged_charging_toggle_state 1
    settings put secure vivo_career_mode_order_assistance_toggle_state 1
    settings put secure vivo_career_mode_toggle_opened_way 1
    settings put secure vivo_career_mode_toggle_opened_state 1
    settings put secure vivo_career_mode_manual_state 1
    
    # ========== 基准测试模式 ==========
    settings put system bench_mark_mode 1
    settings put system electroic_mode_enabled 1
    
    # ========== 温控优化 ==========
    settings put system vivo_gamethermal_switch 0
    settings put system HighTemptureProtect 0
    settings put system pem_little_window_high_temp_protect 0
    
    # ========== 触控采样率优化（1200Hz）==========
    settings put global game_memc_request_touch_rate 1200
    settings put system vts_game_para_adjust 1,10,10,10
    device_config put activity_manager_native_boot game_touch_sampling 1200
    device_config put activity_manager_native_boot touch.report_rate 1200
    device_config put activity_manager_native_boot touchscreen.report_rate 1200
    device_config put activity_manager_native_boot game_touch_sampling_rate 1200
    device_config put game game_touch_sampling_rate 1200
    device_config put game com.detection.ts.touch_detection.action.set_touch_sample_rate 1200
    
    # ========== AI游戏策略 ==========
    settings put secure vivo_gamecube_solo_stage 1
    settings put secure vivo_gamecube_team_stage 1
    settings put secure vivo_gamecube_bp_stage 1
    settings put secure vivo_gamecube_ai_strategy 1
    settings put secure vivo_gamecube_ai_situation_stage 1
    
    # ========== 游戏模式配置 ==========
    cmd game mode custom ${game_package}
    cmd game set --downscale disable --fps 120 ${game_package}
    
    # ========== 画面稳定性优化 ==========
    settings put global picture_stability_opt_blacklist_apps null
    settings put system enabled_picture_stability_optimize ${game_package}:1
    settings put global picture_stability_opt_whitelist_apps ${game_package}:7
    
    # ========== VSR超分辨率白名单 ==========
    settings put global vsr_all_whitelist_apps ${game_package}
    settings put global vsr_gles_whitelist_apps ${game_package}
    settings put global vsr_pp_whitelist_apps ${game_package}
    settings put global vsr_value_from_gamecube "1"
    settings put global vsr_whitelist_apps ${game_package}
    
    # ========== VAA抗闪烁白名单 ==========
    settings put global vaa_dynamic_whitelist_apps ${game_package}
    settings put global vaa_gles_dynamic_whitelist_apps ${game_package}
    settings put global vaa_gles_whitelist_apps ${game_package}
    settings put global vaa_tips_whitelist_apps ${game_package}
    settings put global vaa_whitelist_apps ${game_package}
    
    # ========== GPU MEMC插帧白名单 ==========
    settings put global gpu_memc_dynamic_whitelist_apps ${game_package}
    settings put global gpu_memc_gles_dynamic_whitelist_apps ${game_package}
    settings put global gpu_memc_gles_whitelist_apps ${game_package}
    settings put global gpu_memc_switch_to_ic_memc "1_1_1_1_1"
    settings put global gpu_memc_tips_whitelist_apps ${game_package}
    settings put global gpu_memc_whitelist_apps ${game_package}
    
    # ========== 关键帧插值生态系统 ==========
    settings put system key_frame_interpolation_ecosystem ${game_package}
done
```

---

## ColorOS设备 - 应用优化开启命令

```bash
echo 已开启ColorOS游戏优化
```

**说明**: ColorOS版本的应用优化命令为空壳，仅输出echo，无实际优化作用。

---